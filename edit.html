<!DOCTYPE html>
<html>
    <head>
        <title>Login</title>
        <link rel="stylesheet" href="edit.css">
        <script src="edit.js"></script>
    </head>

    <body>
        <div class="container">
            <div class="user image"><h1>Log in</h1></div>
            <div id="errorDisplay" class="notError">Incorrect username or password</div>
            <form>
                <div class="forms">
                    <input id="emailAddress" type="text" class="email input" placeholder="E-mail" required>
                    <input id="password" type="password" class="password input" placeholder="Password" required>
                    <input class="submitButton" type='button' value="Log in" onclick="authenticateUser()"></input>
                </div>
            </form>
        </div>
        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-firestore.js"></script>

        <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->
        <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-analytics.js"></script>

        <script>
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        var firebaseConfig = {
            apiKey: "AIzaSyAdlgSDGja8_O6ePhX2RIUL-fmfcx_Fb3Q",
            authDomain: "machine-project-1.firebaseapp.com",
            databaseURL: "https://machine-project-1.firebaseio.com",
            projectId: "machine-project-1",
            storageBucket: "machine-project-1.appspot.com",
            messagingSenderId: "49518443103",
            appId: "1:49518443103:web:9d0b0eea257205c06539ea",
            measurementId: "G-S8YREF6Y1X"
        };
        // Initialize Firebase
        var app = firebase.initializeApp(firebaseConfig);
        firebase.analytics();
        var db = firebase.firestore(app)

        db.collection("User").get().then((querySnapshot) =>{
            querySnapshot.forEach((doc) =>{
                console.log(doc.data());
                console.log(`  ${doc.data().email}`);
                console.log(`  ${doc.data().password}`);
                initUsers(doc.data().email, doc.data().password, doc.data().id);
            })
        })
    </script>
    </body>
</html>